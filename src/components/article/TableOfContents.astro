---
import TableOfContentsWithScrollSpy from "@altano/astro-table-of-contents/TableOfContentsWithScrollSpy.astro";
import type { ComponentProps } from "astro/types";

export type Props = ComponentProps<typeof TableOfContentsWithScrollSpy>;
---

<style>
  @layer components {
    .table-of-contents {
      a {
        text-decoration: none;
        &:not(:hover) {
          color: inherit;
        }
      }

      list-style-type: none;
      margin: 0;
      padding: 0;

      @media (--md-down-viewport) {
        list-style-position: inside;
        list-style-type: square;
      }

      &:hover {
        li {
          color: var(--text);
        }
      }

      li {
        padding: var(--spacing-half);
        @media (--md-down-viewport) {
          &:not([aria-level="1"]) {
            padding-left: var(--spacing-4);
          }
        }
        @media (--lg-up-viewport) {
          color: var(--text-faded);
          transition: color var(--durations-color-scheme);
          &:not([aria-level="1"]) {
            padding-left: var(--spacing-5);
          }
          &:has(> a[aria-current="true"]) {
            color: var(--text);
          }
        }
      }
    }
  }
</style>

<TableOfContentsWithScrollSpy {...Astro.props} class="table-of-contents" />
